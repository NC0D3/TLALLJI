try:
        # Ejecutar la aplicación Flask
        app.run(debug=True)
    except KeyboardInterrupt:
        # Capturar la excepción si se presiona Ctrl+C y detener el hilo
        manejar_ctrl_c(signal.SIGINT, None)

# Manejador para la señal SIGINT (Ctrl+C)
def manejar_ctrl_c(sig, frame):
    global hilo_ads
    print("\nDeteniendo el hilo...")
    hilo_ads.join()  # Esperar a que el hilo termine antes de salir
    print("Hilo detenido. Saliendo.")
    sys.exit(0)
